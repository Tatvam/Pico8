pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
-- lives

lives = 3

-- paddle
padx = 52
pady = 122
padw = 24
padh = 4

-- ball
ballx = 64
bally = 64
ballsize = 3
ballxdir = 5
ballydir = -3

-- score
score = 0

function _init()
	cls()
	lives = 3
	score = 0
	ballx =64
	bally = 64
end

function bouncepaddle()
	if ballx >= padx and
		ballx <= padx+padw and
		bally>pady then
			sfx(0)
			score+=10
			ballydir=-ballydir
	end
end

function loosedeadball()
	if bally > 128 then
		if lives > 0 then
			sfx(3)
			bally = 24
			lives-=1
		else
			-- game over
			ballydir = 0
			ballxdir = 0
			_init()
		end
	end
end

function bounceball()

	if ballx < ballsize then
		ballxdir=-ballxdir
		sfx(0)
	end
	
	if ballx > 128-ballsize then
		ballxdir=-ballxdir
		sfx(0)
	end
	
	if bally < ballsize then
		ballydir=-ballydir
		sfx(0)
	end
	
end
function movepaddle()
	if btn(0) then
		padx-=3
	elseif btn(1) then
		padx+=3
	end
end

function moveball()
	ballx+=ballxdir
	bally+=ballydir
end

function _update()
	moveball()
	bouncepaddle()
	bounceball()
	movepaddle()
	loosedeadball()
end

function _draw()
	--clear the screen
	rectfill(0,0,128,128,3)
	--draw the paddle
	print(score,12,6,15)
	-- drav lives
	for i=1,lives do
		spr(001, 90+i*8, 4)
	end
	circfill(ballx,bally,ballsize,15)
	rectfill(padx,pady,padx+padw,pady+padh,15)
end


__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000ee0ee000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700eeeeeee00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000eeeeeee00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000770000eeeee000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070000eee0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000c00071c570115700b5700757004570025700057000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__music__
07 41424344

